# LLM Sentry: GEO (ç”Ÿæˆå¼å¼•æ“ä¼˜åŒ–) å®æ—¶ç›‘æµ‹å¹³å°

`LLM Sentry` æ˜¯ä¸€ä¸ªä¸“ä¸º **GEO (Generative Engine Optimization)** è®¾è®¡çš„è‡ªåŠ¨åŒ–ç›‘æµ‹ä¸åˆ†æå¹³å°ã€‚å®ƒèƒ½å¤Ÿå®æ—¶è¿½è¸ªå“ç‰Œæˆ–å†…å®¹åœ¨ä¸»æµ AI æœç´¢å¼•æ“ï¼ˆå¦‚ DeepSeekã€è±†åŒ…ï¼‰å›ç­”ä¸­çš„æ›å…‰æƒ…å†µï¼Œå¹¶é‡åŒ–åˆ†æå…¶å¼•ç”¨æ¥æºã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![Python](https://img.shields.io/badge/Python-3.9+-blue.svg)](https://www.python.org/)

## ğŸ“¦ é¡¹ç›®ç»“æ„

æœ¬ä»“åº“åŒ…å«ä»¥ä¸‹ç‹¬ç«‹é¡¹ç›®ï¼š

```text
geo_marketing/
â”œâ”€â”€ geo_client/              # ã€å®¢æˆ·ç«¯åº”ç”¨ã€‘Electron æ¡Œé¢åº”ç”¨
â”‚   â”œâ”€â”€ src/                 # React å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ electron/            # Electron åç«¯ä»£ç 
â”‚   â”œâ”€â”€ Makefile             # å®¢æˆ·ç«¯ç®¡ç†å‘½ä»¤
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ geo_db/                  # ã€æ•°æ®åº“æœåŠ¡ã€‘PostgreSQL å®¹å™¨åŒ–éƒ¨ç½²
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â”œâ”€â”€ init_v3.1.sql        # æœ€æ–°ç‰ˆæœ¬åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ migrations/          # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ Makefile             # æ•°æ®åº“ç®¡ç†å‘½ä»¤
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ geo_server/              # ã€åç«¯æœåŠ¡ã€‘Web è‡ªåŠ¨åŒ–ä¸æ•°æ®é‡‡é›†
â”‚   â”œâ”€â”€ api.py               # FastAPI æœåŠ¡
â”‚   â”œâ”€â”€ providers/           # å¤šå¹³å°é€‚é…å™¨ (DeepSeek, è±†åŒ…, åšæŸ¥)
â”‚   â”œâ”€â”€ core/                # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ Makefile             # åç«¯æœåŠ¡ç®¡ç†å‘½ä»¤
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ docs/                    # ã€æ–‡æ¡£ã€‘é¡¹ç›®æ–‡æ¡£ä¸è§„èŒƒ
â”‚   â”œâ”€â”€ GEOå®æ–½å·¥ç¨‹åŒ–æ–¹æ¡ˆ.md
â”‚   â”œâ”€â”€ semantic_footprint/  # è¯­ä¹‰è¶³è¿¹ç›¸å…³æ–‡æ¡£
â”‚   â””â”€â”€ structured_data/     # ç»“æ„åŒ–æ•°æ®æ¨¡æ¿
â”‚
â”œâ”€â”€ scripts/                 # ã€è„šæœ¬ã€‘å…±äº«å·¥å…·è„šæœ¬
â””â”€â”€ README.md                # æœ¬æ–‡ä»¶
```

### å­é¡¹ç›®è¯´æ˜

| é¡¹ç›® | æŠ€æœ¯æ ˆ | æè¿° |
|------|--------|------|
| **geo_client** | React + Electron + TypeScript | æ¡Œé¢å®¢æˆ·ç«¯ï¼Œæä¾›å¯è§†åŒ–ç•Œé¢è¿›è¡Œä»»åŠ¡ç®¡ç†å’Œç›‘æ§ |
| **geo_db** | PostgreSQL 15 + Docker | æ•°æ®åº“æœåŠ¡ï¼Œè´Ÿè´£æ•°æ®æŒä¹…åŒ–å’Œç‰ˆæœ¬ç®¡ç† |
| **geo_server** | Python + FastAPI + Playwright | åç«¯æœåŠ¡ï¼Œè´Ÿè´£æµè§ˆå™¨è‡ªåŠ¨åŒ–å’Œæ•°æ®é‡‡é›† |

## 1. æ ¸å¿ƒä»·å€¼
åœ¨ AI é©±åŠ¨æœç´¢çš„æ—¶ä»£ï¼Œä¼ ç»Ÿçš„ SEO æ­£åœ¨å‘ GEO æ¼”è¿›ã€‚æœ¬é¡¹ç›®æ—¨åœ¨è§£å†³ä»¥ä¸‹æ ¸å¿ƒç—›ç‚¹ï¼š
- **æ›å…‰ç›‘æµ‹**ï¼šå®æ—¶äº†è§£ AI åœ¨å›ç­”ç‰¹å®šè¡Œä¸šé—®é¢˜æ—¶ï¼Œæ˜¯å¦æåŠäº†ä½ çš„å“ç‰Œã€‚
- **å¼•ç”¨æº¯æº**ï¼šç²¾å‡†æå– AI å›ç­”ä¸­çš„å‚è€ƒé“¾æ¥ï¼Œåˆ†æå“ªäº›ç«™ç‚¹ï¼ˆçŸ¥ä¹ã€å®˜ç½‘ã€è‡ªåª’ä½“ï¼‰è¢« AI é‡‡çº³ä¸º RAG ä¸Šä¸‹æ–‡ã€‚
- **å£°é‡å æ¯” (SoV)**ï¼šé‡åŒ–ç»Ÿè®¡ä¸åŒå“ç‰Œåœ¨ AI æœç´¢å¼•æ“ä¸­çš„æ”¶å½•æƒé‡ä¸å æ¯”ã€‚

## 2. æŠ€æœ¯æ¶æ„

é¡¹ç›®é‡‡ç”¨è§£è€¦çš„æœåŠ¡åŒ–æ¶æ„ï¼Œåˆ†ä¸ºæ•°æ®æŒä¹…åŒ–å±‚å’Œä¸šåŠ¡æ‰§è¡Œå±‚ï¼š

```text
GEO/ (Root)
â”œâ”€â”€ geo_db/                  # ã€æ•°æ®åº“æœåŠ¡ã€‘
â”‚   â”œâ”€â”€ docker-compose.yml   # PostgreSQL 15 å®¹å™¨åŒ–éƒ¨ç½²
â”‚   â””â”€â”€ init.sql             # è‡ªåŠ¨åŒ–è¡¨ç»“æ„åˆå§‹åŒ– (Records & Citations)
â””â”€â”€ geo_server/              # ã€åç«¯æœåŠ¡ã€‘
    â”œâ”€â”€ main.py              # ä»»åŠ¡è°ƒåº¦ä¸ä¸šåŠ¡é€»è¾‘å…¥å£
    â”œâ”€â”€ providers/           # å¤šæ¨¡å‹é€‚é…å™¨ (åŸºäº Playwright çš„ç½‘é¡µè‡ªåŠ¨åŒ–)
    â””â”€â”€ core/                # åŸŸåæ¸…æ´—ä¸å¼•ç”¨è§£æå¼•æ“
```

### å…³é”®æŠ€æœ¯æ ˆ
- **è‡ªåŠ¨åŒ–å¼•æ“**ï¼šPlaywright (æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºï¼Œç»•è¿‡ API é™åˆ¶ï¼Œè·å–æœ€çœŸå®çš„è”ç½‘æœç´¢ç»“æœ)ã€‚
- **æ•°æ®å­˜å‚¨**ï¼šPostgreSQL (åˆ©ç”¨ JSONB å­˜å‚¨å¤æ‚å¼•ç”¨å…ƒæ•°æ®)ã€‚
- **è§£æç®—æ³•**ï¼šåŸºäº `tldextract` çš„é¡¶çº§åŸŸåæ¸…æ´—ä¸ SoV ç»Ÿè®¡æ¨¡å‹ã€‚

## 3. æ ¸å¿ƒæµç¨‹é€»è¾‘
1. **æ¨¡æ‹Ÿæé—®**ï¼šé€šè¿‡è®¾è®¡ Prompt çŸ©é˜µï¼ˆå¯¹æ¯”ã€å»ºè®®ã€æŸ¥è¯¢ï¼‰ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·å‘ DeepSeek/è±†åŒ…æé—®ã€‚
2. **è”ç½‘æœç´¢**ï¼šé©±åŠ¨æµè§ˆå™¨è‡ªåŠ¨å¼€å¯"è”ç½‘æ¨¡å¼"ï¼Œè·å– AI å®æ—¶æ£€ç´¢åçš„å›ç­”ã€‚
3. **å¤šè½®æ‰§è¡Œ**ï¼šæ”¯æŒå¯¹åŒä¸€æŸ¥è¯¢æ¡ä»¶æ‰§è¡Œå¤šè½®æœç´¢ï¼ˆ`query_count` å‚æ•°ï¼‰ï¼Œç”¨äºæµ‹è¯•ç»“æœç¨³å®šæ€§æˆ–è·å–å¤šæ¬¡æŸ¥è¯¢çš„å¹³å‡æ•°æ®ã€‚
4. **å¼•ç”¨æå–**ï¼šè§£æ Markdown æ–‡æœ¬åŠé¡µé¢ DOMï¼Œæå–æ‰€æœ‰ `[1][2]` å½¢å¼çš„å‚è€ƒèµ„æ–™é“¾æ¥ã€‚
5. **é‡åŒ–åˆ†æ**ï¼šå°† URL è¿˜åŸä¸ºåŸŸåï¼Œå­˜å…¥æ•°æ®åº“å¹¶è®¡ç®—å„ç«™ç‚¹çš„æ”¶å½•å æ¯”ã€‚

## 4. å¿«é€Ÿå¼€å§‹æŒ‡å— âš¡

### å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š

| å·¥å…· | ç‰ˆæœ¬è¦æ±‚ | å®‰è£…æ£€æŸ¥ | å®‰è£…æŒ‡å— |
|------|----------|----------|----------|
| **Docker** | 20.0+ | `docker --version` | [Docker å®˜ç½‘](https://docs.docker.com/get-docker/) |
| **Node.js** | 18.0+ | `node --version` | [Node.js å®˜ç½‘](https://nodejs.org/) |
| **pnpm** | 8.0+ | `pnpm --version` | `npm install -g pnpm` |
| **Python** | 3.9+ | `python --version` | [Python å®˜ç½‘](https://www.python.org/) |
| **uv** | æœ€æ–°ç‰ˆ | `uv --version` | [uv å®‰è£…æŒ‡å—](https://github.com/astral-sh/uv) |

### å¿«é€Ÿå¼€å§‹

æ¯ä¸ªé¡¹ç›®éƒ½æœ‰ç‹¬ç«‹çš„ `Makefile` æ¥ç®¡ç†è‡ªå·±çš„å‘½ä»¤ã€‚

#### 1. å¯åŠ¨æ•°æ®åº“æœåŠ¡

```bash
cd geo_db
make help      # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make up        # å¯åŠ¨ PostgreSQL æ•°æ®åº“
```

#### 2. å®‰è£…å¹¶å¯åŠ¨åç«¯æœåŠ¡

```bash
cd geo_server
make help      # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make install   # å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
make playwright # å®‰è£…æµè§ˆå™¨ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
make dev       # å¯åŠ¨ API æœåŠ¡ (http://localhost:8000)
```

#### 3. å®‰è£…å¹¶å¯åŠ¨å®¢æˆ·ç«¯

```bash
cd geo_client
make help      # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make setup     # å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
make dev       # å¯åŠ¨å®¢æˆ·ç«¯åº”ç”¨
```

### å„é¡¹ç›®å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

#### geo_dbï¼ˆæ•°æ®åº“æœåŠ¡ï¼‰
| å‘½ä»¤ | æè¿° |
|------|------|
| `make up` | å¯åŠ¨æ•°æ®åº“ |
| `make down` | åœæ­¢æ•°æ®åº“ |
| `make logs` | æŸ¥çœ‹æ•°æ®åº“æ—¥å¿— |
| `make reset` | é‡ç½®æ•°æ®åº“ï¼ˆåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰ |

#### geo_serverï¼ˆåç«¯æœåŠ¡ï¼‰
| å‘½ä»¤ | æè¿° |
|------|------|
| `make install` | å®‰è£…ä¾èµ– |
| `make dev` | å¯åŠ¨ API æœåŠ¡ |
| `make run` | æ‰§è¡Œç›‘æµ‹ä»»åŠ¡ |
| `make stats` | ç”Ÿæˆæ•°æ®æŠ¥å‘Š |

#### geo_clientï¼ˆå®¢æˆ·ç«¯åº”ç”¨ï¼‰
| å‘½ä»¤ | æè¿° |
|------|------|
| `make setup` | ä¸€é”®å®‰è£…å®¢æˆ·ç«¯ |
| `make dev` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ |
| `make build` | æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `make electron-build` | æ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ |

> **æç¤º**ï¼š
> - é¦–æ¬¡è¿è¡Œåç«¯æœåŠ¡æˆ–å®¢æˆ·ç«¯æ—¶ï¼Œéœ€è¦åœ¨æµè§ˆå™¨ä¸­å®Œæˆç™»å½•ï¼ŒCookie å°†è¢«ä¿å­˜ä»¥ä¾›åç»­ä½¿ç”¨
> - æ¯ä¸ªé¡¹ç›®çš„ Makefile éƒ½æä¾›äº† `make help` å‘½ä»¤æ¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æŒ‡ä»¤
> - å„é¡¹ç›®å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œæ ¹æ®éœ€è¦å¯åŠ¨ç›¸åº”æœåŠ¡

## 5. API æ–‡æ¡£

é¡¹ç›®æä¾› REST API æ¥å£ç”¨äºä»»åŠ¡ç®¡ç†ã€‚å¯åŠ¨åç«¯æœåŠ¡åï¼Œå¯è®¿é—®ï¼š

- **API æœåŠ¡**: http://localhost:8000
- **äº¤äº’å¼æ–‡æ¡£**: http://localhost:8000/docs (Swagger UI)
- **API è§„èŒƒ**: http://localhost:8000/redoc

### ä¸»è¦æ¥å£

#### åˆ›å»ºä»»åŠ¡

**POST** `/mock`

åˆ›å»ºæ–°çš„ç›‘æµ‹ä»»åŠ¡ï¼Œæ”¯æŒå¤šå…³é”®è¯ã€å¤šå¹³å°ç»„åˆã€‚

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "keywords": ["AIæœç´¢å¼•æ“", "ç”Ÿæˆå¼æœç´¢"],
  "platforms": ["deepseek", "doubao", "bocha"],
  "query_count": 3,
  "settings": {
    "headless": false,
    "timeout": 60000,
    "delay_between_tasks": 5
  }
}
```

| å‚æ•° | ç±»å‹ | å¿…å¡« | æè¿° |
|------|------|------|------|
| `keywords` | `string[]` | âœ… | æœç´¢å…³é”®è¯åˆ—è¡¨ |
| `platforms` | `string[]` | âŒ | å¹³å°åˆ—è¡¨ï¼Œé»˜è®¤ `["deepseek"]` |
| `query_count` | `number` | âŒ | æŸ¥è¯¢æ¬¡æ•°ï¼ˆæ‰§è¡Œè½®æ•°ï¼‰ï¼Œé»˜è®¤ `1` |
| `settings.headless` | `boolean` | âŒ | æ˜¯å¦æ— å¤´æ¨¡å¼ï¼Œé»˜è®¤ `false` |
| `settings.timeout` | `number` | âŒ | è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ `60000` |
| `settings.delay_between_tasks` | `number` | âŒ | ä»»åŠ¡é—´å»¶è¿Ÿï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ `5` |

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "status": "success",
  "task_id": "abc123",
  "message": "ä»»åŠ¡å·²åˆ›å»º"
}
```

#### æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

**GET** `/tasks/{task_id}`

#### è·å–ä»»åŠ¡åˆ—è¡¨

**GET** `/tasks?status=pending&limit=10`

### å¤šè½®æ‰§è¡ŒåŠŸèƒ½

`query_count` å‚æ•°å…è®¸å¯¹åŒä¸€æŸ¥è¯¢æ¡ä»¶æ‰§è¡Œå¤šæ¬¡æœç´¢ï¼Œé€‚ç”¨äºï¼š

| åœºæ™¯ | è¯´æ˜ |
|------|------|
| ğŸ”¬ **ç¨³å®šæ€§æµ‹è¯•** | éªŒè¯ AI å›ç­”çš„ä¸€è‡´æ€§ |
| ğŸ“Š **æ•°æ®é‡‡é›†** | è·å–å¤šæ¬¡æŸ¥è¯¢çš„å¹³å‡ç»“æœï¼Œå‡å°‘éšæœºæ€§ |
| ğŸ“ˆ **è¶‹åŠ¿åˆ†æ** | è§‚å¯Ÿä¸åŒæ—¶é—´ç‚¹çš„æœç´¢ç»“æœå˜åŒ– |

**æ‰§è¡Œé€»è¾‘**ï¼šç³»ç»Ÿä¼šæŒ‰ç…§ `query_count` çš„å€¼ï¼Œå¯¹æ¯ä¸ª `(å…³é”®è¯, å¹³å°)` ç»„åˆå¾ªç¯æ‰§è¡ŒæŒ‡å®šè½®æ•°ã€‚

### è®¤è¯

ç›®å‰ API æ”¯æŒåŸºäº token çš„è®¤è¯ï¼ˆå¯é€‰ï¼‰ã€‚è¯¦è§ [llm_sentry_monitor/README_AUTH.md](./llm_sentry_monitor/README_AUTH.md)ã€‚

---

## 6. å®¢æˆ·ç«¯ä½¿ç”¨

å®¢æˆ·ç«¯æä¾›äº†å‹å¥½çš„å›¾å½¢ç•Œé¢ï¼Œæ”¯æŒï¼š

- ğŸ“Š **ä»ªè¡¨ç›˜**ï¼šæŸ¥çœ‹ç›‘æ§æ¦‚è§ˆå’Œç»Ÿè®¡æ•°æ®
- ğŸ” **ç™»å½•ç®¡ç†**ï¼šç®¡ç†å„å¹³å°ç™»å½•çŠ¶æ€
- ğŸ” **æœç´¢ä»»åŠ¡**ï¼šåˆ›å»ºå’Œç®¡ç†æœç´¢ä»»åŠ¡
- ğŸ“ **æ—¥å¿—æŸ¥çœ‹**ï¼šæŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œæ—¥å¿—
- âš™ï¸ **è®¾ç½®**ï¼šé…ç½® API åœ°å€å’Œå…¶ä»–é€‰é¡¹

è¯¦ç»†ä½¿ç”¨è¯´æ˜è¯·å‚é˜… [geo_client/README.md](./geo_client/README.md)ã€‚

---

## 7. å¼€å‘æŒ‡å—

### é¡¹ç›®æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Electron      â”‚      â”‚   Web Browser   â”‚
â”‚   Client        â”‚â”€â”€â”€â”€â”€â–¶â”‚   (ç”¨æˆ·ç•Œé¢)     â”‚
â”‚  (geo_client)   â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI       â”‚      â”‚   Playwright    â”‚
â”‚   Server        â”‚â”€â”€â”€â”€â”€â–¶â”‚   (æµè§ˆå™¨è‡ªåŠ¨åŒ–)  â”‚
â”‚ (monitor)       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ SQL
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL    â”‚
â”‚   Database      â”‚
â”‚   (geo_db)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ·»åŠ æ–°çš„ Provider

1. åœ¨ `llm_sentry_monitor/providers/` åˆ›å»ºæ–°æ–‡ä»¶
2. ç»§æ‰¿ `BaseProvider` ç±»
3. å®ç° `search()` æ–¹æ³•
4. åœ¨ API ä¸­æ³¨å†Œæ–° Provider

å‚è€ƒç¤ºä¾‹ï¼š[llm_sentry_monitor/providers/doubao_web.py](./llm_sentry_monitor/providers/doubao_web.py)

### æ•°æ®åº“è¿ç§»

æ•°æ®åº“é‡‡ç”¨ç‰ˆæœ¬åŒ–è¿ç§»ç³»ç»Ÿï¼š

```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
make db-status

# å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬
make db-upgrade

# é‡ç½®æ•°æ®åº“ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
make db-reset
```

è¿ç§»è„šæœ¬ä½äº `geo_db/migrations/` ç›®å½•ã€‚

### ä»£ç è§„èŒƒ

- **Python**: éµå¾ª PEP 8
- **TypeScript**: ä½¿ç”¨ ESLint + Prettier
- **æäº¤ä¿¡æ¯**: éµå¾ª Conventional Commits

è¯¦è§ [CONTRIBUTING.md](./CONTRIBUTING.md)ï¼ˆå³å°†åˆ›å»ºï¼‰ã€‚

---

## 8. æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

<details>
<summary><b>Docker æ•°æ®åº“å¯åŠ¨å¤±è´¥</b></summary>

æ£€æŸ¥ç«¯å£å ç”¨ï¼š
```bash
lsof -i:5432
```

å¦‚æœç«¯å£è¢«å ç”¨ï¼Œåœæ­¢å…¶ä»– PostgreSQL å®ä¾‹æˆ–ä¿®æ”¹ `geo_db/docker-compose.yml` ä¸­çš„ç«¯å£ã€‚
</details>

<details>
<summary><b>Electron å®‰è£…å¤±è´¥</b></summary>

é…ç½®é•œåƒåé‡è¯•ï¼š
```bash
export ELECTRON_MIRROR=https://npmmirror.com/mirrors/electron/
cd geo_client
pnpm install --force
```
</details>

<details>
<summary><b>Playwright æµè§ˆå™¨æœªå®‰è£…</b></summary>

æ‰‹åŠ¨å®‰è£…ï¼š
```bash
cd llm_sentry_monitor
uv run playwright install chromium
```
</details>

<details>
<summary><b>API è¿æ¥å¤±è´¥</b></summary>

1. ç¡®è®¤ API æœåŠ¡æ­£åœ¨è¿è¡Œï¼š`make status`
2. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
3. ç¡®è®¤ `.env` æ–‡ä»¶ä¸­çš„ API åœ°å€é…ç½®æ­£ç¡®
</details>

æ›´å¤šé—®é¢˜è¯·æŸ¥çœ‹å„å­é¡¹ç›®çš„ READMEï¼š
- [geo_client/README.md](./geo_client/README.md)
- [geo_db/README.md](./geo_db/README.md)
- [llm_sentry_monitor/README.md](./llm_sentry_monitor/README.md)

---

## 9. è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼åœ¨æäº¤ PR ä¹‹å‰ï¼Œè¯·ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼ˆ`git checkout -b feature/AmazingFeature`ï¼‰
3. æäº¤æ›´æ”¹ï¼ˆ`git commit -m 'Add some AmazingFeature'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/AmazingFeature`ï¼‰
5. å¼€å¯ Pull Request

è¯¦ç»†è§„èŒƒè¯·å‚é˜… [CONTRIBUTING.md](./CONTRIBUTING.md)ã€‚

---

## 10. è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](./LICENSE) æ–‡ä»¶ã€‚

---

## 11. è”ç³»æˆ‘ä»¬

- ğŸ“§ Email: your-email@example.com
- ğŸ’¬ Issues: [GitHub Issues](https://github.com/your-org/geo_marketing/issues)
- ğŸ“– æ–‡æ¡£: [é¡¹ç›®æ–‡æ¡£](./docs/)

---

*LLM Sentry - åŠ©åŠ›å“ç‰Œåœ¨ç”Ÿæˆå¼æœç´¢æ—¶ä»£èµ¢å¾—å…ˆæœº* ğŸš€
